<!-- login form page -->
<div class="login-page bg-light w-100 d-flex flex-column justify-content-center align-items-center"
    style="height: 100vh;">
    <form (ngSubmit)="onLogin(f)" #f="ngForm" class="Login-form p-3 col-lg-6 col-sm-9 " *ngIf="!(isFetching$ |async)">
        <div class="form-group">
            <label class="form-label">Email address:</label>
            <input type="email" name="email" class="form-control" placeholder="Enter email" required email ngModel
                #email="ngModel">
            <span class="text-danger" *ngIf="email.invalid && email.touched && email.value === ''">please enter
                email</span>
            <span class="text-danger" *ngIf="email.invalid && email.touched && email.value !== ''">please enter
                a valid email</span>
        </div>
        <label class="form-label">Password:</label>
        <input type="password" class="form-control" name="password" placeholder="Enter password" required ngModel
            #pw="ngModel">

        <span class="text-danger" *ngIf="pw.invalid && pw.touched">please type
            your password</span>
        <div class="w-100 pt-3 d-flex justify-content-center align-items-center">
            <button class="btn btn-primary" type="submit" [disabled]="!f.valid"> Login </button>
            <button class="btn btn-outline-primary ms-3" type="reset" (click)="openVerticallyCentered(content)">
                register </button>
        </div>
    </form>
    <!-- loading spinner -->
    <!-- <ul class="list-group col-8"> -->
    <ul class="col-8" *ngIf="(isFetching$ |async) == true">
        <div class="text-center">
            <img src="./../../../assets/Spinner-1s-200px.svg" alt="spinner">

        </div>
    </ul>
</div>

<!-- register modal form -->
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Register </h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form (ngSubmit)="onRegister(rf)" #rf="ngForm">
            <div class="form-group">
                <label class="form-label">Email address:</label>
                <input type="email" name="email" class="form-control" placeholder="Enter email" required email ngModel
                    #email="ngModel">
                <span class="text-danger" *ngIf="email.invalid && email.touched && email.value === ''">please enter
                    email</span>
                <span class="text-danger" *ngIf="email.invalid && email.touched && email.value !== ''">please enter
                    a valid email</span>
            </div>
            <div class="form-group">
                <label class="form-label" >Username:</label>
                <input type="text" name="username" ngModel #username="ngModel" class="form-control" placeholder="Enter username">
            </div>
            <div class="form-group" ngModelGroup="passwordData" #pwGroup="ngModelGroup">
                <label class="form-label">Password:</label>
                <input type="password" class="form-control" name="password" placeholder="Enter password" required
                    ngModel #pw="ngModel">

                <label class="form-label">Confirm password:</label>
                <input type="password" class="form-control" name="confirmPassword" placeholder="Confirm password"
                    required ngModel #cpw="ngModel">

                <span class="text-danger" *ngIf="pwGroup.invalid && pwGroup.touched && pw.value === ''">please type
                    your password</span>
                <span class="text-danger" *ngIf="pwGroup.touched && pw.value !== cpw.value">please check
                    that passwords match</span>
            </div>

            <div class="form-group">
                <label class="form-label">Gender:</label>
                <div class="form-check">
                    <label class="form-check-labl">
                        <input class="form-check-input" type="radio" name="gender" [value]="'M'" [ngModel]="'M'">
                        Male
                    </label>
                </div>
                <div class="form-check">
                    <label class="form-check-labl">
                        <input class="form-check-input" type="radio" name="gender" [value]="'F'"
                            [ngModel]="'M'">
                        Female
                    </label>
                </div>
            </div>

            <div class="d-flex justify-content-center">
                <button class="btn btn-primary" type="submit" [disabled]="!rf.valid"> Sign Up </button>
                <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Cancel</button>
            </div>
        </form>
    </div>
</ng-template>